(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{47:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(21),a=n.n(c),i=(n(26),n(12)),l=n(4),s=(n(47),n(2)),u=n(15),o=n(11),d=n(10),b=n.n(d),j=n(13),h="CREATE_TUTORIAL",p="RETRIEVE_TUTORIALS",O="UPDATE_TUTORIAL",f="DELETE_TUTORIAL",m="DELETE_ALL_TUTORIALS",v=n(36),x=n(37),g=n(38),T=n.n(g).a.create({baseURL:"http://localhost:8080/api",headers:{"Content-type":"application/json"}}),y=new(function(){function e(){Object(v.a)(this,e)}return Object(x.a)(e,[{key:"getAll",value:function(){return T.get("/tutorials")}},{key:"get",value:function(e){return T.get("/tutorials/".concat(e))}},{key:"create",value:function(e){return T.post("/tutorials",e)}},{key:"update",value:function(e,t){return T.put("/tutorials/".concat(e),t)}},{key:"delete",value:function(e){return T.delete("/tutorials/".concat(e))}},{key:"deleteAll",value:function(){return T.delete("/tutorials")}},{key:"findByTitle",value:function(e){return T.get("/tutorials?title=".concat(e))}}]),e}()),N=n(1);var k=Object(o.b)(null,{createTutorial:function(e,t){return function(){var n=Object(j.a)(b.a.mark((function n(r){var c;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.create({title:e,description:t});case 3:return c=n.sent,r({type:h,payload:c.data}),n.abrupt("return",Promise.resolve(c.data));case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",Promise.reject(n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=Object(r.useState)({id:null,title:"",description:"",published:!1,submitted:!1}),n=Object(u.a)(t,2),c=n[0],a=n[1];return Object(N.jsx)("div",{className:"submit-form",children:c.submitted?Object(N.jsxs)("div",{children:[Object(N.jsx)("h4",{children:"Profile created successfully!"}),Object(N.jsx)("button",{className:"btn btn-success",onClick:function(){a({id:null,title:"",description:"",published:!1,submitted:!1})},children:"Create"})]}):Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{htmlFor:"title",children:"Name"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"title",required:!0,value:c.Name,onChange:function(e){a((function(t){return Object(s.a)(Object(s.a)({},t),{},{title:e.target.value})}))},name:"title"})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{htmlFor:"description",children:"E-mail"}),Object(N.jsx)("textarea",{className:"form-control",id:"description",required:!0,value:c.email,onChange:function(e){a((function(t){return Object(s.a)(Object(s.a)({},t),{},{description:e.target.value})}))},name:"description"})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{htmlFor:"title",children:"Phone number"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"title",required:!0,value:c.phonenumber,onChange:function(e){a((function(t){return Object(s.a)(Object(s.a)({},t),{},{description:e.target.value})}))},name:"title"})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{htmlFor:"title",children:"Password"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"title",required:!0,value:c.password,onChange:function(e){a((function(t){return Object(s.a)(Object(s.a)({},t),{},{description:e.target.value})}))},name:"title"})]}),Object(N.jsx)("button",{onClick:function(){var t=c.title,n=c.description;e.createTutorial(t,n).then((function(e){a({id:e.id,title:e.title,description:e.description,published:e.published,submitted:!0}),console.log(e)})).catch((function(e){console.log(e)}))},className:"btn btn-success mb-3",children:"Submit"})]})})}));var w=function(){return Object(N.jsx)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:Object(N.jsxs)("div",{className:"container",children:[Object(N.jsx)(i.b,{to:"/tutorials",className:"navbar-brand",children:"Skye Wallet"}),Object(N.jsxs)("div",{className:"navbar-nav ms-auto",children:[Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(i.b,{to:"/tutorials",className:"nav-link",children:"Users"})}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(i.b,{to:"/add",className:"nav-link",children:"Create Profile"})})]})]})})};var P=Object(o.b)(null,{updateTutorial:function(e,t){return function(){var n=Object(j.a)(b.a.mark((function n(r){var c;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.update(e,t);case 3:return c=n.sent,r({type:O,payload:t}),n.abrupt("return",Promise.resolve(c.data));case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",Promise.reject(n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},deleteTutorial:function(e){return function(){var t=Object(j.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.delete(e);case 3:n({type:f,payload:{id:e}}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=Object(r.useState)({currentTutorial:{id:null,title:"",description:"",published:!1},message:""}),n=Object(u.a)(t,2),c=n[0],a=n[1];function i(t){var n={id:c.currentTutorial.id,title:c.currentTutorial.title,description:c.currentTutorial.description,published:t};e.updateTutorial(c.currentTutorial._id,n).then((function(e){console.log(e),a((function(e){return Object(s.a)(Object(s.a)({},e),{},{currentTutorial:Object(s.a)(Object(s.a)({},e.currentTutorial),{},{published:t})})})),a((function(e){return Object(s.a)(Object(s.a)({},e),{},{message:"The status was updated successfully!"})}))})).catch((function(e){console.log(e)}))}Object(r.useEffect)((function(){var t;t=e.match.params.id,y.get(t).then((function(e){a((function(t){return Object(s.a)(Object(s.a)({},t),{},{currentTutorial:e.data})})),console.log(e.data)})).catch((function(e){console.log(e)}))}),[]);var l=c.currentTutorial;return Object(N.jsx)("div",{children:l?Object(N.jsxs)("div",{className:"edit-form",children:[Object(N.jsx)("h4",{children:"Profile"}),Object(N.jsxs)("form",{children:[Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{htmlFor:"title",children:"Name"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"title",value:l.title,onChange:function(e){var t=e.target.value;a((function(e){return Object(s.a)(Object(s.a)({},e),{},{currentTutorial:Object(s.a)(Object(s.a)({},e.currentTutorial),{},{title:t})})}))}})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{htmlFor:"description",children:"E-mail"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"description",value:l.description,onChange:function(e){var t=e.target.value;a((function(e){return{currentTutorial:Object(s.a)(Object(s.a)({},e.currentTutorial),{},{description:t})}}))}})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:Object(N.jsx)("strong",{children:"Status: "})}),l.published?"Published":"Pending"]})]}),l.published?Object(N.jsx)("button",{className:"badge bg-primary me-2",onClick:function(){return i(!1)},children:"UnPublish"}):Object(N.jsx)("button",{className:"badge bg-primary me-2",onClick:function(){return i(!0)},children:"Publish"}),Object(N.jsx)("button",{className:"badge bg-danger me-2",onClick:function(){e.deleteTutorial(c.currentTutorial._id).then((function(){e.history.push("/tutorials")})).catch((function(e){console.log(e)}))},children:"Delete"}),Object(N.jsx)("button",{type:"submit",className:"badge bg-success",onClick:function(){e.updateTutorial(c.currentTutorial._id,c.currentTutorial).then((function(e){console.log(e),a((function(e){return Object(s.a)(Object(s.a)({},e),{},{message:"The profile was updated successfully!"})}))})).catch((function(e){console.log(e)}))},children:"Update"}),Object(N.jsx)("p",{children:c.message})]}):Object(N.jsxs)("div",{children:[Object(N.jsx)("br",{}),Object(N.jsx)("p",{children:"Please click on a Profile..."})]})})}));var C=Object(o.b)((function(e){return{tutorials:e.tutorials}}),{retrieveTutorials:function(){return function(){var e=Object(j.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.getAll();case 3:n=e.sent,t({type:p,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},findTutorialsByTitle:function(e){return function(){var t=Object(j.a)(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.findByTitle(e);case 3:r=t.sent,n({type:p,payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},deleteAllTutorials:function(){return function(){var e=Object(j.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.deleteAll();case 3:return n=e.sent,t({type:m,payload:n.data}),e.abrupt("return",Promise.resolve(n.data));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=Object(r.useState)({currentTutorial:null,currentIndex:-1,searchTitle:""}),n=Object(u.a)(t,2),c=n[0],a=n[1];function l(){a((function(e){return Object(s.a)(Object(s.a)({},e),{},{currentTutorial:null,currentIndex:-1})}))}return Object(r.useEffect)((function(){e.retrieveTutorials()}),[]),Object(N.jsxs)("div",{className:"list row",children:[Object(N.jsx)("div",{className:"col-md-12 mb-3",children:Object(N.jsxs)("div",{className:"input-group",children:[Object(N.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by title",value:c.searchTitle,onChange:function(e){var t=e.target.value;a((function(e){return Object(s.a)(Object(s.a)({},e),{},{searchTitle:t})}))}}),Object(N.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){l(),e.findTutorialsByTitle(c.searchTitle)},children:"Search"})]})}),Object(N.jsxs)("div",{className:"col-md-6 mb-3",children:[Object(N.jsx)("h4",{children:"Tutorials List"}),Object(N.jsx)("ul",{className:"list-group",children:e&&e.tutorials.map((function(e,t){return Object(N.jsx)("li",{className:"list-group-item "+(t===c.currentIndex?"active":""),onClick:function(){return function(e,t){a((function(n){return Object(s.a)(Object(s.a)({},n),{},{currentTutorial:e,currentIndex:t})}))}(e,t)},children:e.title},t)}))}),Object(N.jsx)("button",{className:"mt-3 btn btn-sm btn-danger",onClick:function(){e.deleteAllTutorials().then((function(e){console.log(e),l()})).catch((function(e){console.log(e)}))},children:"Delete All"})]}),Object(N.jsx)("div",{className:"col-md-6 mb-3",children:c.currentTutorial?Object(N.jsxs)("div",{children:[Object(N.jsx)("h4",{children:"User Profile"}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:Object(N.jsx)("strong",{children:"Title:"})})," ",c.currentTutorial.title]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:Object(N.jsx)("strong",{children:"Description:"})})," ",c.currentTutorial.description]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:Object(N.jsx)("strong",{children:"Status:"})})," ",c.currentTutorial.published?"Published":"Pending"]}),Object(N.jsx)(i.b,{to:"/tutorials/"+c.currentTutorial._id,className:"badge bg-warning",children:"Edit"})]}):Object(N.jsxs)("div",{children:[Object(N.jsx)("br",{}),Object(N.jsx)("p",{children:"Please click on a Profile..."})]})})]})}));var E=function(){return Object(N.jsxs)(i.a,{children:[Object(N.jsx)(w,{}),Object(N.jsx)("div",{className:"container mt-3",children:Object(N.jsxs)(l.c,{children:[Object(N.jsx)(l.a,{exact:!0,path:["/","/tutorials"],component:C}),Object(N.jsx)(l.a,{exact:!0,path:"/add",component:k}),Object(N.jsx)(l.a,{path:"/tutorials/:id",component:P})]})})]})},A=n(16),S=n(40),I=n(41),L=n(42),U=[];var R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case h:return[].concat(Object(L.a)(e),[r]);case p:return r;case O:return e.map((function(e){return e.id===r.id?Object(s.a)(Object(s.a)({},e),r):e}));case f:return e.filter((function(e){return e.id!==r.id}));case m:return[];default:return e}},_=Object(A.combineReducers)({tutorials:R}),D=[I.a],F=Object(A.createStore)(_,{},Object(S.composeWithDevTools)(A.applyMiddleware.apply(void 0,D)));a.a.render(Object(N.jsx)(o.a,{store:F,children:Object(N.jsx)(E,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.5f5e4ad5.chunk.js.map